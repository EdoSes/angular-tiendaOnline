<div class="container">
  <h2 mat-dialog-title>{{ operacion }}</h2>
  <mat-spinner *ngIf="loading" [diameter]="30"></mat-spinner>
</div>

<form [formGroup]="form" (ngSubmit)="EditProduct()">
  <mat-dialog-content>

    <mat-form-field appearance="fill">
      <mat-label>Nombre Producto</mat-label>
      <input
        formControlName="nombreProducto"
        matInput
        placeholder="Ingrese Nombre"
        autocomplete="off">
    </mat-form-field>
    <div class="error" *ngIf="form.get('nombreProducto')?.hasError('maxlength')">
      Excedió los <strong>20 caracteres</strong> permitidos
    </div>

    <mat-form-field appearance="fill">
      <mat-label>Descripción Producto</mat-label>
      <input
        formControlName="descripcionProducto"
        matInput
        placeholder="Ingrese Descripción">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Precio Producto</mat-label>
      <input
        formControlName="precioProducto"
        matInput
        placeholder="Ingrese Precio">
    </mat-form-field>
    <div class="error" *ngIf="form.get('precioProducto')?.hasError('pattern')">
      El precio solo permite <strong>números</strong>
    </div>

    <!-- Slide Toggle fuera de mat-form-field -->
    <mat-slide-toggle
      formControlName="publicacionProducto"
      (change)="slideToggleChange($event)"
      class="example-margin">
      Publicar
    </mat-slide-toggle>

    <mat-form-field appearance="fill">
      <mat-label>Código QR</mat-label>
      <input
        formControlName="codbarrasProducto"
        matInput
        placeholder="Ingrese Código">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Categoría</mat-label>
      <mat-select formControlName="categoriaProducto">
        <mat-option
          *ngFor="let cat of categorias"
          [value]="cat">
          {{ cat }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Promoción %</mat-label>
      <mat-select formControlName="promocionProducto">
        <mat-option
          *ngFor="let prom of promociones"
          [value]="prom">
          {{ prom }}
        </mat-option>
      </mat-select>
    </mat-form-field>

  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button (click)="BtnCancelar()">Cancelar</button>
    <button mat-button cdkFocusInitial type="submit">Aceptar</button>
  </mat-dialog-actions>
</form>
